# 映射限制设置

使用以下设置可以限制字段映射的数量（手动或动态创建）并防止文档导致映射爆炸：



##`index.mapping.total_fields.limit`

索引中字段的最大数目。字段和对象映射以及字段别名都计入此限制。默认值为`1000`。



> 设置此限制是为了防止映射和搜索变得过大。更高的值会导致性能下降和内存问题，特别是在负载高或资源少的集群中。
> 
> 
> 
> 如果您增加此设置，我们建议您也增加[`indices.query.bool.max_clause_count`]()设置，用于限制查询中[布尔子句]()的最大数目。

<br>
			               

> 如果字段映射包含一组大的任意键，请考虑使用展平数据类型。



##`index.mapping.depth.limit`

字段的最大深度，以内部对象的数量来度量。例如，如果所有字段都在根对象级别定义，则深度为`1`。如果有一个对象映射，则深度为`2`，以此类推。默认值为`20`。

##`index.mapping.nested_fields.limit`

索引中不同`nested`映射的最大数目。`nested`类型只应在特殊情况下使用，即需要相互独立地查询对象数组时。为了防止映射设计不当，此设置限制每个索引的唯一`nested`类型数。默认值为`50`。

##`index.mapping.nested_objects.limit`

单个文档可以跨所有嵌套类型包含的最大嵌套JSON对象数。当文档包含太多嵌套对象时，此限制有助于防止内存不足错误。默认值为10000。

##`index.mapping.field_name_length.limit`

设置字段名的最大长度。这个设置实际上并不能解决映射爆炸的问题，但是如果您想限制字段长度，它可能仍然很有用。通常不需要设置此设置。默认值是可以的，除非用户开始添加大量具有很长名称的字段。默认值为`Long.MAX_VALUE`（无限制）。